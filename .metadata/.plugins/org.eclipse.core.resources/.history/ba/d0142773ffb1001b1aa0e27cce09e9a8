package kr.co.hojeon.daos;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import org.mybatis.spring.SqlSessionTemplate;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Repository;

@Repository
public class CommonDAO {
	@Autowired
	private SqlSessionTemplate sqlSessionTemplate;
	
	public List<HashMap<String, Object>> getBaseData(String bch_code, String all_yn) {
		HashMap<String, Object> input_param = new HashMap<String, Object>();
		
		input_param.put("all_yn", all_yn);
		input_param.put("bch_code", bch_code);
		
		return sqlSessionTemplate.selectList("comm.getBaseData", input_param); 
	}
	
	public List<HashMap<String, Object>> getITUserInfo(String all_yn) {
		return sqlSessionTemplate.selectList("comm.getITUserInfo", all_yn);
	}
	
	public List<HashMap<String, Object>> getITUserInfoFromCheck(String[] reg_user) {
		List<String> reg_users = new ArrayList<String>();
		
		System.out.println(reg_user.length);
		
		String abc = reg_user.toString();
		System.out.println(abc);
		for (int i = 0; i < reg_user.length; i++) {
			String set_user = reg_user[i].toString();
			reg_users.add(set_user);
			System.out.println("1111");
			System.out.println(set_user);
			System.out.println("HJ16031401");
		}
		
		/*
		for (String set_user : reg_user) {
			set_user = reg_user.toString();
			reg_users.add(set_user);
			System.out.println("1111");
			System.out.println(set_user);
		}
		*/
		
		HashMap input_param = new HashMap();
		input_param.put("reg_users", reg_users);
		
		List<String> reg_userss = new ArrayList<String>();
		
		String a = "HJ16031401";
		String b = "HJ16082201";
		
		reg_userss.add(a);
		reg_userss.add(b);
		System.out.println(b);
		HashMap hmm = new HashMap();
		hmm.put("reg_users", reg_userss);
		
		return sqlSessionTemplate.selectList("comm.getITUserInfoFromCheck", hmm);
		/*
		String reg_users = "";
		for (int i = 0; i < reg_user.length; i++) {
			if (i == 0) {
				reg_users = reg_user[i];
			} else {
				reg_users = reg_users + "," + reg_user[i];
			}	 
		}
		String asdf = "fefefe";
		System.out.println(reg_users);
		System.out.println(asdf);
		asdf = reg_users;
		System.out.println(reg_user.getClass().getName());
		System.out.println(reg_users.getClass().getName());
		//String reg = "'HJ16031401','HJ16082201','HJ18021901'";
		String reg = "HJ16082201";
		
		ArrayList<String> ab = new ArrayList<String>();
		
		ab.add("HJ16031401");
		ab.add("HJ16082201");
		ab.add("HJ18021901");
		
		HashMap<String, Object> input_param = new HashMap<String, Object>();
		//input_param.put("reg_users", ab);
		
		List<String> reg_userss = new ArrayList<String>();
		
		reg_userss.add("HJ16031401");
		reg_userss.add("HJ16082201");
		reg_userss.add("HJ18021901");
		
		HashMap hmm = new HashMap();
		hmm.put("reg_users", reg_userss);
		*/
		
	}
	
	// 부서명, 사용자 이름으로 전체 유저 검색
	public List<HashMap<String, Object>> getUserListByDeptEmp(String deptname, String empname) {
		HashMap<String, Object> input_param = new HashMap<String, Object>();
		
		input_param.put("deptname", deptname);
		input_param.put("empname", empname);
		
		return sqlSessionTemplate.selectList("comm.getUserListByDeptEmp", input_param);
	}
	
}
