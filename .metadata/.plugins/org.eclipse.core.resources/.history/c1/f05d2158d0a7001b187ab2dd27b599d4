<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mabatis.org//DTD Mapper 3.0//EN"
                       "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="comm">
	<select id="getBaseData" parameterType="hashmap" resultType="java.lang.String">
		/***********************************************************
		SQLID       : COMMON_MAPPER.XML
		ID          : getBaseData
		DESCRIPTION : 공용 코드 DETAIL 조회
		************************************************************/
		<![CDATA[
			SELECT
				BASE_CODE, BASE_NAME
			FROM
				(
				SELECT '%' BASE_CODE, '전체' BASE_NAME, 0 SORT_NO WHERE #{all_yn} = 'Y'
				UNION
				SELECT BCD_CODE, BCD_NAME, SORT_NO FROM TB_BASE_DETAIL WITH(NOLOCK) WHERE BCH_CODE = #{bch_code} AND USE_YN = 'Y'
				) A
			ORDER BY A.SORT_NO;
		]]>
	</select>
</mapper>